import tkinter as tk
from tkinter import messagebox
import requests

def pesquisar_cep():
    cep = entry_cep.get()
    if not cep.isdigit() or len(cep) != 8:
        messagebox.showerror("Erro", "Digite um CEP válido (8 dígitos).")
        return

    url = f"https://viacep.com.br/ws/{cep}/json/"
    response = requests.get(url)

    if response.status_code == 200:
        data = response.json()
        if "erro" not in data:
            resultado = "\n".join([f"{chave.capitalize()}: {valor}" for chave, valor in data.items()])
            messagebox.showinfo("Resultado", resultado)
        else:
            messagebox.showerror("Erro", "CEP não encontrado.")
    else:
        messagebox.showerror("Erro", "Falha na requisição.")

# Cria a janela principal
root = tk.Tk()
root.title("Pesquisa de CEP")

# Cria e posiciona os widgets
tk.Label(root, text="Digite o CEP (somente números):").pack(pady=10)
entry_cep = tk.Entry(root)
entry_cep.pack(pady=5)
tk.Button(root, text="Pesquisar", command=pesquisar_cep).pack(pady=10)

# Inicia o loop principal da interface gráfica
root.mainloop()